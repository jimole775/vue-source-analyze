<body>
  <!-- <script src="./node_modules/requirejs/require.js"></script> -->
  <div id="app">
  </div>
<script src="vue.js"></script>
<script>
  // require.config({
  //   paths: {
  //     vue: 'vue'
  //   }
  // })
  // require(['vue'], function(vue) {
  //   console.log('dasdadas', vue)
  // })
  var child = {
    functional: true,
    name: 'child',
    render (h) {
      return h('span', 'child123', [h('span', '456', [h('i', '0')])])
    }
  }
  Vue.component('box', {
    name: 'box',
    components: { child },
    inject: [ 't' ],
    watch: {
      t (val) {
        console.log('t:', val)
      }
    },
    render (h) {
      return h('div', {
        on: {
          click () { alert('hello') }
        }
      }, [h('span', this.t), h('child')])
    }
  })
  const vue = new Vue({
    el: '#app',
    name: 'app',
    data: { text: { mid: '1'} },
    provide () { return { t: this.text || 'topbak' } },
    render (h) {
      return h('box', this.text.mid)
      // return h('div', this.text.mid)
    }
  })
</script>
</body>
